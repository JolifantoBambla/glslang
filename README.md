# glslang
Common Lisp/CFFI bindings for glslang.

## Requirements

* `glslang` (target version `11.5.0`, but since the C API doesn't change often a version mismatch shouldn't matter too much) - the library is included in the VulkanSDK.

## Generate Bindings

**This doesn't produce correct bindings! (it's a good start though)**

In CCL run:

```cl
;; preload libresect.so
(pushnew :claw-regen-adapter *features*)
(ql:quickload :cffi)
(cffi:load-foreign-library "<path-to>/libresect/build/resect/libresect.so")

;; load wrapper and generate bindings
(ql:quickload :claw-glslang/wrapper)
(claw:load-wrapper :claw-glslang/wrapper)
```

### Problems with autogenerated bindings
* `enum` names are fucked (e.g. `glang_client_t` becomes `|C:@EA@GLSLANG-CLIENT-T|`) - don't know why (yet)
* `struct` definitions are broken (e.g. `glslang_resource_s` has `:size 1` in the produced bindings eventhough it has almost 100 ints as members)
* some types are missing (e.g. `glsl_include_result_s`)
 
